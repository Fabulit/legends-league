function addPlayer(){var e=document.getElementById("addName").value;avatarImage=$("#addAvatarPicChose input:checked").val();var t=document.getElementById("addNationSelect");nation=t.options[t.selectedIndex].value;var a={name:e,nationality:nation,avatar:avatarImage};console.log(a),$.ajax({url:"app/api.php/player",method:"POST",data:JSON.stringify(a)}).done(function(e){document.getElementById("addName").value="",document.getElementById("addPlayerMsg").innerHTML="API-Meldung: <b>"+e+"</b>",refreshLists()})}function deletePlayer(){var e=document.getElementById("deletePlayer").value;$.ajax({url:"app/api.php/player/"+e,method:"DELETE"}).done(function(e){document.getElementById("deletePlayerMsg").innerHTML="API-Meldung: <b>"+e+"</b>",refreshLists()})}function editPlayer(){var e=document.getElementById("editPlayer");playerId=e.options[e.selectedIndex].value;var t=document.getElementById("newName").value;newAvatarImage=$("#editAvatarPicChose input:checked").val();var a=document.getElementById("editNationSelect");newNation=a.options[a.selectedIndex].value;var n={id:playerId,name:t,avatar:newAvatarImage,nationality:newNation};console.log(n),$.ajax({url:"app/api.php/player/",method:"PUT",data:JSON.stringify(n)}).done(function(e){document.getElementById("newName").value="",document.getElementById("editPlayerMsg").innerHTML="API-Meldung: <b>"+e+"</b>",refreshLists()})}function addCard(){var e=document.getElementById("addCardName").value,t=document.getElementById("addCardPoints").value,a=document.getElementById("addCardPicSelect"),n=a.options[a.selectedIndex].value,d=document.getElementById("addCardCatSelect");cat=d.options[d.selectedIndex].value,$.ajax({url:"app/api.php/card",method:"POST",data:JSON.stringify({name:e,points:t,url:n,category:cat})}).done(function(e){document.getElementById("addCardName").value="",document.getElementById("addCardPoints").value="",document.getElementById("addCardMsg").innerHTML="API-Meldung: <b>"+e+"</b>",refreshLists()})}function deleteCard(){var e=document.getElementById("deleteCard").value;$.ajax({url:"app/api.php/card/"+e,method:"DELETE"}).done(function(e){document.getElementById("deleteCardMsg").innerHTML="API-Meldung: <b>"+e+"</b>",refreshLists()})}function editCard(){var e=document.getElementById("editCard").value,t=document.getElementById("newCardName").value,a=document.getElementById("newCardPoints").value,n=document.getElementById("editCardPicSelect"),d=n.options[n.selectedIndex].value,o=document.getElementById("editCardCatSelect");newcat=o.options[o.selectedIndex].value,$.ajax({url:"app/api.php/card/",method:"PUT",data:JSON.stringify({id:e,name:t,points:a,url:d,category:newcat})}).done(function(e){document.getElementById("newCardName").value="",document.getElementById("editCardMsg").innerHTML="API-Meldung: <b>"+e+"</b>",refreshLists()})}function getImageFilename(){$.ajax({url:"cardimages.php",dataType:"json",success:function(e){$.each(e,function(e,t){$("#addCardPicSelect").append('<option value="'+t+'">'+t+"</option>"),$("#editCardPicSelect").append('<option value="'+t+'">'+t+"</option>")})}})}function getImageAvatars(){$.ajax({url:"avatarimages.php",dataType:"json",success:function(e){$.each(e,function(e,t){$("#addAvatarPicChose").append('<input type="radio" name="avatarRadio" id="av-'+t+'" value="'+t+'"></input><label for="av-'+t+'"><img src="avatars/'+t+'"</label>'),$("#editAvatarPicChose").append('<input type="radio" name="newAvatarRadio" id="newAv-'+t+'" value="'+t+'"></input><label for="newAv-'+t+'"><img src="avatars/'+t+'"</label>')})}})}function printPlayerListEdit(e){document.getElementById("playerList").innerHTML="",$.each(e,function(e,t){var a=document.createElement("li");a.innerText=t.name+" | "+t.nationality,a.dataset.player=t.name,a.dataset.id=t.id,document.getElementById("playerList").appendChild(a)})}function loadPlayerListsEdit(){$.ajax({url:"app/api.php/player",method:"GET"}).done(function(e){var t=JSON.parse(e);printPlayerListEdit(t)})}function buildHtmlList(e,t,a){var t=document.getElementById(t);t.innerHTML="",$.each(e,function(e,n){var d=document.createElement(a);d.innerText=n.name,"option"==a&&(d.value=n.id),t.appendChild(d)})}function refreshLists(){$.ajax({url:"app/api.php/player",method:"GET"}).done(function(e){var t=JSON.parse(e);buildHtmlList(t,"playerList","li"),buildHtmlList(t,"deletePlayer","option"),buildHtmlList(t,"editPlayer","option"),buildHtmlList(t,"votePlayer","option")}),$.ajax({url:"app/api.php/card",method:"GET"}).done(function(e){var t=JSON.parse(e),a=document.getElementById("cardList");a.innerHTML="",$.each(t,function(e,t){var n=document.createElement("li");n.innerText=t.name+" | "+t.points+" pts | "+t.url+" cat | "+t.category,a.appendChild(n)}),buildHtmlList(t,"deleteCard","option"),buildHtmlList(t,"editCard","option"),buildHtmlList(t,"voteCard","option")}),getImageFilename(),getImageAvatars()}var playerNationOptions=$('<option value="none">Takka-Tukka</option><option value="ger">Germany</option><option value="eng">England</option><option value="ita">Italy</option><option value="por">Portugal</option><option value="fra">France</option><option value="spa">Spain</option><option value="ned">Netherlands</option>');$(playerNationOptions).appendTo("#addNationSelect, #editNationSelect");var cardCatOptions=$('<option value="card-cat-a">Category Ethics</option><option value="card-cat-b">Category Crazy</option><option value="card-cat-c">Category Social</option><option value="card-cat-d">Category Skill</option>');$(cardCatOptions).appendTo("#addCardCatSelect, #editCardCatSelect"),$("body").on("click",".choselist > label",function(){$(this).addClass("selected").removeClass("unselected"),$(this).prevAll("label").removeClass("selected").addClass("unselected"),$(this).nextAll("label").removeClass("selected").addClass("unselected")}),$(function(){refreshLists()});
//# sourceMappingURL=edit.js.map
