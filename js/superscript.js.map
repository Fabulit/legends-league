{"version":3,"sources":["superscript.js"],"names":["save","saveResult","d","document","getElementById","value","Date","parse","a","h","g","gameJSON","host","guest","date","author","console","log","$","ajax","method","url","data","JSON","stringify","done","addMatchups","saveRating","saveVote","location","reload","innerHTML","gameId","each","ratePlayer","this","find","val","rateTech","rateTact","rateTeam","rateJSON","playerId","parseInt","technique","tactic","teamwork","votePlayer","cardId","voteJSON","elements","querySelectorAll","i","length","matchupJSON","id","team"],"mappings":"AACA,QAASA,QACPC,aAMF,QAASA,cACR,GAAIC,GAAIC,SAASC,eAAe,cAAcC,KAC9CH,GAAI,GAAII,MAAKA,KAAKC,MAAML,GACxB,IAAIM,GAAIL,SAASC,eAAe,UAAUC,MACtCI,EAAIN,SAASC,eAAe,QAAQC,MACpCK,EAAIP,SAASC,eAAe,SAASC,MAErCM,GAAYC,KAAMH,EAAGI,MAAOH,EAAGI,KAAMZ,EAAGa,OAAQP,EACpDQ,SAAQC,IAAIN,GACZO,EAAEC,MACDC,OAAQ,OACRC,IAAK,mBACLC,KAAMC,KAAKC,UAAUb,KACnBc,KAAK,SAASH,GAChBI,YAAYJ,GACXK,WAAWL,GACXM,SAASN,GACTO,SAASC,SAMV3B,SAASC,eAAe,gBAAgB2B,UAAY,mBAAqBT,EAAO,SAKlF,QAASK,YAAWK,GAClBd,EAAE,4BAA4Be,KAAK,WACjC,GAAIC,GAAahB,EAAEiB,MAAMC,KAAK,+BAA+BC,MACzDC,EAAWpB,EAAEiB,MAAMC,KAAK,yCAAyCC,MACjEE,EAAWrB,EAAEiB,MAAMC,KAAK,uCAAuCC,MAC/DG,EAAWtB,EAAEiB,MAAMC,KAAK,wCAAwCC,MAChEI,GAAYC,SAAUC,SAAST,GAAaF,OAAQA,EAAQY,UAAWN,EAAUO,OAAQN,EAAUO,SAAUN,EACjHxB,SAAQC,IAAIwB,GAEZvB,EAAEC,MACFC,OAAQ,OACRC,IAAK,qBACLC,KAAMC,KAAKC,UAAUiB,KACnBhB,KAAK,SAASH,GAEhBnB,SAASC,eAAe,gBAAgB2B,UAAY,mBAAqBT,EAAO,WAUpF,QAASM,UAASI,GAChBd,EAAE,0BAA0Be,KAAK,WAC/B,GAAIc,GAAa7B,EAAEiB,MAAMC,KAAK,wBAAwBC,MAClDW,EAAS9B,EAAEiB,MAAMC,KAAK,sBAAsBC,MAC5CY,GAAYP,SAAUC,SAASI,GAAaf,OAAQA,EAAQgB,OAAQA,EACxEhC,SAAQC,IAAIgC,GAEZ/B,EAAEC,MACFC,OAAQ,OACRC,IAAK,mBACLC,KAAMC,KAAKC,UAAUyB,KACnBxB,KAAK,SAASH,GAEhBnB,SAASC,eAAe,gBAAgB2B,UAAY,mBAAqBT,EAAO,WASpF,QAASI,aAAYM,GAEjB,IAAI,GADAkB,GAAW/C,SAASgD,iBAAiB,6BACjCC,EAAI,EAAGA,EAAIF,EAASG,OAAQD,IAAK,CACxC,GAAIE,IAAeZ,SAAUC,SAASO,EAASE,GAAGG,IAAKvB,OAAQA,EAAQwB,KAAM,OAC7ExC,SAAQC,IAAIqC,GAEZpC,EAAEC,MACDC,OAAQ,OACRC,IAAK,sBAELC,KAAMC,KAAKC,UAAU8B,KACnB7B,KAAK,SAASH,GACfnB,SAASC,eAAe,qBAAqB2B,UAAY,mBAAqBT,EAAO,SAOxF,IAAI,GADA4B,GAAW/C,SAASgD,iBAAiB,8BACjCC,EAAI,EAAGA,EAAIF,EAASG,OAAQD,IAAK,CACxC,GAAIE,IAAeZ,SAAUC,SAASO,EAASE,GAAGG,IAAKvB,OAAQA,EAAQwB,KAAM,QAC3ExC,SAAQC,IAAIqC,GAGdpC,EAAEC,MACDC,OAAQ,OACRC,IAAK,sBAELC,KAAMC,KAAKC,UAAU8B,KACnB7B,KAAK,SAASH,GACfnB,SAASC,eAAe,sBAAsB2B,UAAY,mBAAqBT,EAAO","file":"superscript.js","sourcesContent":["// superscript.js\nfunction save() {\n  saveResult();\n}\n\n\n\n\nfunction saveResult() {\n\tvar d = document.getElementById('date-match').value;\n\td = new Date(Date.parse(d));\n\tvar a = document.getElementById('author').value;\n\tvar h = document.getElementById('host').value;\n\tvar g = document.getElementById('guest').value;\n\n\tvar gameJSON = {host: h, guest: g, date: d, author: a}\n\tconsole.log(gameJSON); // Hier würden die Daten eigentlich an die DB gesendet\n\t$.ajax({\n\t\tmethod: 'POST',\n\t\turl: 'app/api.php/game',\n\t\tdata: JSON.stringify(gameJSON)\n }).done(function(data) {\n\t addMatchups(data);\n   saveRating(data);\n   saveVote(data);\n   location.reload();\n\t /*document.getElementById('date-match').value = '';\n\t document.getElementById('author').value = '';\n\t document.getElementById('host').value = '';\n\t document.getElementById('guest').value = '';*/\n\n\t document.getElementById('addResultMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n });\n\n}\n\nfunction saveRating(gameId) {\n  $('[data-line=\"rated-line\"]').each(function () {\n    var ratePlayer = $(this).find('[data-rated=\"rated-player\"]').val();\n    var rateTech = $(this).find('[data-rated=\"rated-player-technique\"]').val();\n    var rateTact = $(this).find('[data-rated=\"rated-player-tactics\"]').val();\n    var rateTeam = $(this).find('[data-rated=\"rated-player-teamplay\"]').val();\n    var rateJSON = {playerId: parseInt(ratePlayer), gameId: gameId, technique: rateTech, tactic: rateTact, teamwork: rateTeam}\n    console.log(rateJSON); // Hier würden die Daten eigentlich an die DB gesendet\n\n    $.ajax({\n  \t\tmethod: 'POST',\n  \t\turl: 'app/api.php/rating',\n  \t\tdata: JSON.stringify(rateJSON)\n   }).done(function(data) {\n\n  \t document.getElementById('addRatingMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n   });\n\n  });\n\n\n}\n\n\n\nfunction saveVote(gameId) {\n  $('[data-card=\"card-row\"]').each(function () {\n    var votePlayer = $(this).find('[data-card=\"player\"]').val();\n    var cardId = $(this).find('[data-card=\"card\"]').val();\n    var voteJSON = {playerId: parseInt(votePlayer), gameId: gameId, cardId: cardId}\n    console.log(voteJSON); // Hier würden die Daten eigentlich an die DB gesendet\n\n    $.ajax({\n  \t\tmethod: 'POST',\n  \t\turl: 'app/api.php/vote',\n  \t\tdata: JSON.stringify(voteJSON)\n   }).done(function(data) {\n\n  \t document.getElementById('addRatingMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n   });\n\n  });\n\n\n}\n\n\nfunction addMatchups(gameId) {\n\t\t\t\tvar elements = document.querySelectorAll('#hostTeam li[data-player]');\n\t\t\t\tfor(var i = 0; i < elements.length; i++) {\n\t\t\t\t\tvar matchupJSON = {playerId: parseInt(elements[i].id), gameId: gameId, team: 'host'};\n\t\t\t\t\tconsole.log(matchupJSON); // Hier würden die Daten eigentlich an die DB gesendet\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\turl: 'app/api.php/matchup',\n\t\t\t\t\t\t//data: (matchupJSON)\n\t\t\t\t\t\tdata: JSON.stringify(matchupJSON),\n\t\t\t\t\t}).done(function(data) {\n\t\t\t\t \t document.getElementById('addHostMatchupMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\t\t\t  });\n\n\n\t\t\t\t}\n\n\t\t\t\tvar elements = document.querySelectorAll('#guestTeam li[data-player]');\n\t\t\t\tfor(var i = 0; i < elements.length; i++) {\n\t\t\t\t\tvar matchupJSON = {playerId: parseInt(elements[i].id), gameId: gameId, team: 'guest'};\n\t\t\t    console.log(matchupJSON); // Hier würden die Daten eigentlich an die DB gesendet\n\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\turl: 'app/api.php/matchup',\n\t\t\t\t\t\t//data: (matchupJSON)\n\t\t\t\t\t\tdata: JSON.stringify(matchupJSON)\n\t\t\t\t\t}).done(function(data) {\n\t\t\t\t \t document.getElementById('addGuestMatchupMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\t\t\t  });\n\n\t\t\t\t}\n\n}\n"],"sourceRoot":"/source/"}