{"version":3,"sources":["edit.js"],"names":["addPlayer","player","document","getElementById","value","avatarImage","$","val","k","nation","options","selectedIndex","playerJSON","name","nationality","avatar","console","log","ajax","url","method","data","JSON","stringify","done","innerHTML","refreshLists","deletePlayer","playerId","editPlayer","z","newName","newAvatarImage","n","newNation","newPlayerJSON","id","addCard","card","points","e","pic","d","cat","category","deleteCard","cardId","editCard","newCardPoints","f","newpic","g","newcat","getImageFilename","dataType","success","each","i","filename","append","getImageAvatars","filename2","printPlayerListEdit","index","li","createElement","innerText","dataset","appendChild","loadPlayerListsEdit","playerList","parse","buildHtmlList","target","element","el","list","playerNationOptions","appendTo","cardCatOptions","on","this","addClass","removeClass","prevAll","nextAll"],"mappings":"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","file":"edit.js","sourcesContent":["// edit.js\n\n\n// PLAYER FUNCTIONS\n\nvar playerNationOptions = $(\n\t'<option value=\"none\">Takka-Tukka</option>' +\n\t'<option value=\"ger\">Germany</option>' +\n\t'<option value=\"eng\">England</option>' +\n\t'<option value=\"ita\">Italy</option>' +\n\t'<option value=\"por\">Portugal</option>' +\n\t'<option value=\"fra\">France</option>' +\n\t'<option value=\"spa\">Spain</option>' +\n\t'<option value=\"ned\">Netherlands</option>'\n)\n\n$(playerNationOptions).appendTo( '#addNationSelect, #editNationSelect' )\n\nfunction addPlayer() { //FUNCTION 1.1\n\tvar player = document.getElementById('addName').value;\n\tavatarImage = $('#addAvatarPicChose input:checked').val();\n\n\tvar k = document.getElementById('addNationSelect');\n\tnation = k.options[k.selectedIndex].value;\n\n\tvar playerJSON = {name: player, nationality: nation, avatar: avatarImage}\n\tconsole.log(playerJSON);\n\n\n\t$.ajax({\n\t\turl: 'app/api.php/player',\n\t\tmethod: 'POST',\n\t\tdata: JSON.stringify(playerJSON)\n\t}).done(function(data) {\n\t\tdocument.getElementById('addName').value = '';\n\t\tdocument.getElementById('addPlayerMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\trefreshLists();\n\t});\n}\n\nfunction deletePlayer() { //FUNCTION 1.2\n\tvar playerId = document.getElementById('deletePlayer').value;\n\t$.ajax({\n\t\turl: 'app/api.php/player/' + playerId,\n\t\tmethod: 'DELETE'\n\t}).done(function(data) {\n\t\tdocument.getElementById('deletePlayerMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\trefreshLists();\n\t});\n}\n\nfunction editPlayer() { //FUNCTION 1.3\n\n\tvar z = document.getElementById('editPlayer');\n\tplayerId = z.options[z.selectedIndex].value;\n\n\tvar newName = document.getElementById('newName').value;\n\n\tnewAvatarImage = $('#editAvatarPicChose input:checked').val();\n\n\tvar n = document.getElementById('editNationSelect');\n\tnewNation = n.options[n.selectedIndex].value;\n\n\tvar newPlayerJSON = {id: playerId, name: newName, avatar: newAvatarImage, nationality: newNation}\n\tconsole.log(newPlayerJSON);\n\n\t$.ajax({\n\t\turl: 'app/api.php/player/',\n\t\tmethod: 'PUT',\n\t\tdata: JSON.stringify(newPlayerJSON)\n\t}).done(function(data) {\n\t\tdocument.getElementById('newName').value = '';\n\t\tdocument.getElementById('editPlayerMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\trefreshLists();\n\t});\n}\n\n// CARD FUNCTIONS\n\nvar cardCatOptions = $(\n\t'<option value=\"card-cat-a\">Category Ethics</option>' +\n\t'<option value=\"card-cat-b\">Category Crazy</option>' +\n\t'<option value=\"card-cat-c\">Category Social</option>' +\n\t'<option value=\"card-cat-d\">Category Skill</option>'\n)\n\n$(cardCatOptions).appendTo( '#addCardCatSelect, #editCardCatSelect' )\n\nfunction addCard() { //FUNCTION 2.1\n\tvar card = document.getElementById('addCardName').value;\n\tvar points = document.getElementById('addCardPoints').value;\n\n\tvar e = document.getElementById('addCardPicSelect');\n\tvar pic = e.options[e.selectedIndex].value;\n\tvar d = document.getElementById('addCardCatSelect');\n\tcat = d.options[d.selectedIndex].value;\n\n\t$.ajax({\n\t\turl: 'app/api.php/card',\n\t\tmethod: 'POST',\n\t\tdata: JSON.stringify({name: card, points: points, url: pic, category: cat})\n\t}).done(function(data) {\n\t\tdocument.getElementById('addCardName').value = '';\n\t\tdocument.getElementById('addCardPoints').value = '';\n\t\t//document.getElementById('addCardPic').value = '';\n\t\tdocument.getElementById('addCardMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\trefreshLists();\n\t});\n}\n\nfunction deleteCard() { //FUNCTION 2.2\n\tvar cardId = document.getElementById('deleteCard').value;\n\t$.ajax({\n\t\turl: 'app/api.php/card/' + cardId,\n\t\tmethod: 'DELETE'\n\t}).done(function(data) {\n\t\tdocument.getElementById('deleteCardMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\trefreshLists();\n\t});\n}\n\n\nfunction editCard() { //FUNCTION 1.3\n\tvar cardId = document.getElementById('editCard').value;\n\tvar newName = document.getElementById('newCardName').value;\n\tvar newCardPoints = document.getElementById('newCardPoints').value;\n\n\tvar f = document.getElementById('editCardPicSelect');\n\tvar newpic = f.options[f.selectedIndex].value;\n\tvar g = document.getElementById('editCardCatSelect');\n\tnewcat = g.options[g.selectedIndex].value;\n\n\t$.ajax({\n\t\turl: 'app/api.php/card/',\n\t\tmethod: 'PUT',\n\t\tdata: JSON.stringify({id: cardId, name: newName, points: newCardPoints, url: newpic, category: newcat})\n\t}).done(function(data) {\n\t\tdocument.getElementById('newCardName').value = '';\n\t\tdocument.getElementById('editCardMsg').innerHTML = 'API-Meldung: <b>' + data + '</b>';\n\t\trefreshLists();\n\t});\n}\n\n\n// Get Image Filename FUNCTIONS\nfunction getImageFilename() {\n\t\t$.ajax({\n        url: \"cardimages.php\",\n        dataType: \"json\",\n        success: function (data) {\n            $.each(data, function(i,filename) {\n\t\t\t        $('#addCardPicSelect').append('<option value=\"'+ filename +'\">'+ filename +'</option>');\n\t\t\t\t\t\t\t$('#editCardPicSelect').append('<option value=\"'+ filename +'\">'+ filename +'</option>');\n            });\n        }\n    });\n}\n// Get Image Filename FUNCTIONS\nfunction getImageAvatars() {\n\t\t$.ajax({\n        url: \"avatarimages.php\",\n        dataType: \"json\",\n        success: function (data) {\n\t\t\t\t\t\t$.each(data, function(i,filename2) {\n\t\t\t\t\t\t\t$('#addAvatarPicChose').append('<input type=\"radio\" name=\"avatarRadio\" id=\"av-'+ filename2 +'\" value=\"'+ filename2 +'\"></input><label for=\"av-'+ filename2 +'\"><img src=\"avatars/'+ filename2 +'\"</label>');\n\t\t\t\t\t\t\t$('#editAvatarPicChose').append('<input type=\"radio\" name=\"newAvatarRadio\" id=\"newAv-'+ filename2 +'\" value=\"'+ filename2 +'\"></input><label for=\"newAv-'+ filename2 +'\"><img src=\"avatars/'+ filename2 +'\"</label>');\n\t\t\t\t\t\t});\n        }\n    });\n}\n\n// CORE FUNCTIONS END\n\n\n$( 'body' ).on( \"click\", '.choselist > label', function() {\n\t$(this).addClass( 'selected' ).removeClass('unselected');\n\t$(this).prevAll( 'label' ).removeClass( 'selected' ).addClass('unselected');\n\t$(this).nextAll( 'label' ).removeClass( 'selected' ).addClass('unselected');\n});\n\n\nfunction printPlayerListEdit(data) {\n\tdocument.getElementById('playerList').innerHTML = '';\n\t$.each(data, function( index, value ) {\n\t\tvar li = document.createElement('li');\n\t\tli.innerText = value.name + ' | ' + value.nationality;\n\t\tli.dataset['player'] = value.name;\n\t\tli.dataset['id'] = value.id;\n\t\tdocument.getElementById('playerList').appendChild(li);\n\t});\n\t//$( '#playerList li' ).wrapInner( '<strong></strong>' );\n}\n\n\nfunction loadPlayerListsEdit() {\n\t$.ajax({\n\t\turl: 'app/api.php/player',\n\t\tmethod: 'GET'\n\t}).done(function(data) {\n\t\tvar playerList = JSON.parse(data);\n\t\tprintPlayerListEdit(playerList);\n\t});\n}\n\n\n// ONLOAD\n$(function() {refreshLists();});\n\n// DISPLAY FUNCTIONS / HELPERS\nfunction buildHtmlList(data, target, element) {\n\tvar target = document.getElementById(target); target.innerHTML = '';\n\t$.each(data, function( index, value ) {\n\t\tvar el = document.createElement(element);\n\t\tel.innerText = value.name;\n\t\tif(element == 'option') el.value = value.id;\n\t\ttarget.appendChild(el);\n\t});\n}\n\n\n\n\nfunction refreshLists() {\n\t// refresh player lists\n\t$.ajax({\n\t\turl: 'app/api.php/player',\n\t\tmethod: 'GET'\n\t})\n\t\t.done(function(data) {\n\t\t\tvar list = JSON.parse(data);\n\t\t\tbuildHtmlList(list, 'playerList', 'li');\n\t\t\tbuildHtmlList(list, 'deletePlayer', 'option');\n\t\t\tbuildHtmlList(list, 'editPlayer', 'option');\n\t\t\tbuildHtmlList(list, 'votePlayer', 'option');\n\t\t});\n\t// refresh card lists\n\t$.ajax({\n\t\turl: 'app/api.php/card',\n\t\tmethod: 'GET'\n\t})\n\t\t.done(function(data) {\n\t\t\tvar list = JSON.parse(data);\n\t\t\tvar target = document.getElementById('cardList'); target.innerHTML = '';\n\t\t\t$.each(list, function( index, value ) {\n\t\t\t\tvar el = document.createElement('li');\n\t\t\t\tel.innerText = value.name + ' | ' + value.points + ' pts | ' + value.url + ' cat | ' + value.category;\n\t\t\t\ttarget.appendChild(el);\n\t\t\t});\n\t\t\tbuildHtmlList(list, 'deleteCard', 'option');\n\t\t\tbuildHtmlList(list, 'editCard', 'option');\n\t\t\tbuildHtmlList(list, 'voteCard', 'option');\n\t\t});\n\ngetImageFilename();\ngetImageAvatars();\n}\n"],"sourceRoot":"/source/"}